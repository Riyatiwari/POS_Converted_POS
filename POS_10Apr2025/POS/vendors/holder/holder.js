var Holder = Holder || {}; !function (t, e) { var n = !1, a = !1, r = document.createElement("canvas"); function o(t) { t = t.match(/^(\W)?(.*)/); var e = document["getElement" + (t[1] ? "#" == t[1] ? "ById" : "sByClassName" : "sByTagName")](t[2]), n = []; return null != e && (n = e.length ? e : 0 == e.length ? e : [e]), n } function s(t, e) { var n = {}; for (var a in t) n[a] = t[a]; for (var i in e) n[i] = e[i]; return n } function l(t, e, n, a) { var i = function (t, e, n) { e = parseInt(e, 10), t = parseInt(t, 10); var a = Math.max(e, t), i = Math.min(e, t), r = Math.min(.75 * i, .75 * a * (1 / 12)); return { height: Math.round(Math.max(n.size, r)) } }(e.width, e.height, n).height, o = e.width * a, s = e.height * a, l = n.font ? n.font : "sans-serif"; r.width = o, r.height = s, t.textAlign = "center", t.textBaseline = "middle", t.fillStyle = n.background, t.fillRect(0, 0, o, s), t.fillStyle = n.foreground, t.font = "bold " + i + "px " + l; var d = n.text ? n.text : Math.floor(e.width) + "x" + Math.floor(e.height), u = t.measureText(d).width; return u / o >= .75 && (i = Math.floor(.75 * i * (o / u))), t.font = "bold " + i * a + "px " + l, t.fillText(d, o / 2, s / 2, o), r.toDataURL("image/png") } function d(t, e, n, i) { var r = n.dimensions, o = n.theme, d = n.text ? decodeURIComponent(n.text) : n.text, c = r.width + "x" + r.height; o = d ? s(o, { text: d }) : o, o = n.font ? s(o, { font: n.font }) : o, "image" == t ? (e.setAttribute("data-src", i), e.setAttribute("alt", d || (o.text ? o.text + " [" + c + "]" : c)), !a && n.auto || (e.style.width = r.width + "px", e.style.height = r.height + "px"), a ? e.style.backgroundColor = o.background : e.setAttribute("src", l(h, r, o, m))) : "background" == t ? a || (e.style.backgroundImage = "url(" + l(h, r, o, m) + ")", e.style.backgroundSize = r.width + "px " + r.height + "px") : "fluid" == t && (e.setAttribute("data-src", i), e.setAttribute("alt", d || (o.text ? o.text + " [" + c + "]" : c)), "%" == r.height.substr(-1) ? e.style.height = r.height : e.style.height = r.height + "px", "%" == r.width.substr(-1) ? e.style.width = r.width : e.style.width = r.width + "px", "inline" != e.style.display && "" != e.style.display || (e.style.display = "block"), a ? e.style.backgroundColor = o.background : (e.holderData = n, p.push(e), u(e))) } function u(t) { var e; for (i in e = null == t.nodeType ? p : [t]) { var n = e[i]; if (n.holderData) { var a = n.holderData; n.setAttribute("src", l(h, { height: n.clientHeight, width: n.clientWidth }, a.theme, m)) } } } function c(e, n) { var a = { theme: x.themes.gray }, i = !1; for (sl = e.length, j = 0; j < sl; j++) { var r = e[j]; t.flags.dimensions.match(r) ? (i = !0, a.dimensions = t.flags.dimensions.output(r)) : t.flags.fluid.match(r) ? (i = !0, a.dimensions = t.flags.fluid.output(r), a.fluid = !0) : t.flags.colors.match(r) ? a.theme = t.flags.colors.output(r) : n.themes[r] ? a.theme = n.themes[r] : t.flags.text.match(r) ? a.text = t.flags.text.output(r) : t.flags.font.match(r) ? a.font = t.flags.font.output(r) : t.flags.auto.match(r) && (a.auto = !0) } return !!i && a } if (document.getElementsByClassName || (document.getElementsByClassName = function (t) { var e, n, a, i = document, r = []; if (i.querySelectorAll) return i.querySelectorAll("." + t); if (i.evaluate) for (n = ".//*[contains(concat(' ', @class, ' '), ' " + t + " ')]", e = i.evaluate(n, i, null, 0, null); a = e.iterateNext();)r.push(a); else for (e = i.getElementsByTagName("*"), n = new RegExp("(^|\\s)" + t + "(\\s|$)"), a = 0; a < e.length; a++)n.test(e[a].className) && r.push(e[a]); return r }), window.getComputedStyle || (window.getComputedStyle = function (t, e) { return this.el = t, this.getPropertyValue = function (e) { var n = /(\-([a-z]){1})/g; return "float" == e && (e = "styleFloat"), n.test(e) && (e = e.replace(n, function () { return arguments[2].toUpperCase() })), t.currentStyle[e] ? t.currentStyle[e] : null }, this }), Object.prototype.hasOwnProperty || (Object.prototype.hasOwnProperty = function (t) { var e = this.__proto__ || this.constructor.prototype; return t in this && (!(t in e) || e[t] !== this[t]) }), r.getContext) if (r.toDataURL("image/png").indexOf("data:image/png") < 0) a = !0; else var h = r.getContext("2d"); else a = !0; var g = 1, f = 1; a || (g = window.devicePixelRatio || 1, f = h.webkitBackingStorePixelRatio || h.mozBackingStorePixelRatio || h.msBackingStorePixelRatio || h.oBackingStorePixelRatio || h.backingStorePixelRatio || 1); var m = g / f, p = [], x = { domain: "holder.js", images: "img", bgnodes: ".holderjs", themes: { gray: { background: "#eee", foreground: "#aaa", size: 12 }, social: { background: "#3a5a97", foreground: "#fff", size: 12 }, industrial: { background: "#434A52", foreground: "#C2F200", size: 12 } }, stylesheet: "" }; for (var y in t.flags = { dimensions: { regex: /^(\d+)x(\d+)$/, output: function (t) { var e = this.regex.exec(t); return { width: +e[1], height: +e[2] } } }, fluid: { regex: /^([0-9%]+)x([0-9%]+)$/, output: function (t) { var e = this.regex.exec(t); return { width: e[1], height: e[2] } } }, colors: { regex: /#([0-9a-f]{3,})\:#([0-9a-f]{3,})/i, output: function (t) { var e = this.regex.exec(t); return { size: x.themes.gray.size, foreground: "#" + e[2], background: "#" + e[1] } } }, text: { regex: /text\:(.*)/, output: function (t) { return this.regex.exec(t)[1] } }, font: { regex: /font\:(.*)/, output: function (t) { return this.regex.exec(t)[1] } }, auto: { regex: /^auto$/ } }, t.flags) t.flags.hasOwnProperty(y) && (t.flags[y].match = function (t) { return t.match(this.regex) }); t.add_theme = function (e, n) { return null != e && null != n && (x.themes[e] = n), t }, t.add_image = function (e, n) { var a = o(n); if (a.length) for (var i = 0, r = a.length; i < r; i++) { var s = document.createElement("img"); s.setAttribute("data-src", e), a[i].appendChild(s) } return t }, t.run = function (e) { var a = s(x, e), i = [], r = [], l = []; for ("string" == typeof a.images ? r = o(a.images) : window.NodeList && a.images instanceof window.NodeList ? r = a.images : window.Node && a.images instanceof window.Node && (r = [a.images]), "string" == typeof a.bgnodes ? l = o(a.bgnodes) : window.NodeList && a.elements instanceof window.NodeList ? l = a.bgnodes : window.Node && a.bgnodes instanceof window.Node && (l = [a.bgnodes]), n = !0, f = 0, g = r.length; f < g; f++)i.push(r[f]); var u = document.getElementById("holderjs-style"); u || ((u = document.createElement("style")).setAttribute("id", "holderjs-style"), u.type = "text/css", document.getElementsByTagName("head")[0].appendChild(u)), a.nocss || (u.styleSheet ? u.styleSheet.cssText += a.stylesheet : u.appendChild(document.createTextNode(a.stylesheet))); for (var h = new RegExp(a.domain + '/(.*?)"?\\)'), g = l.length, f = 0; f < g; f++) { var m = window.getComputedStyle(l[f], null).getPropertyValue("background-image"), p = m.match(h), y = l[f].getAttribute("data-background-src"); if (p) (w = c(p[1].split("/"), a)) && d("background", l[f], w, m); else if (null != y) { (w = c(y.substr(y.lastIndexOf(a.domain) + a.domain.length + 1).split("/"), a)) && d("background", l[f], w, m) } } for (g = i.length, f = 0; f < g; f++) { var w, v = attr_data_src = m = null; try { v = i[f].getAttribute("src"), attr_datasrc = i[f].getAttribute("data-src") } catch (t) { } if (null == attr_datasrc && v && v.indexOf(a.domain) >= 0 ? m = v : attr_datasrc && attr_datasrc.indexOf(a.domain) >= 0 && (m = attr_datasrc), m) (w = c(m.substr(m.lastIndexOf(a.domain) + a.domain.length + 1).split("/"), a)) && (w.fluid ? d("fluid", i[f], w, m) : d("image", i[f], w, m)) } return t }, function (t, e) { var n = "complete", a = "readystatechange", i = !1, r = !0, o = t.document, s = o.documentElement, l = o.addEventListener ? "addEventListener" : "attachEvent", d = o.addEventListener ? "removeEventListener" : "detachEvent", u = o.addEventListener ? "" : "on", c = function (r) { (r.type != a || o.readyState == n) && (("load" == r.type ? t : o)[d](u + r.type, c, !1), !i && (i = !0) && e.call(t, null)) }, h = function () { try { s.doScroll("left") } catch (t) { return void setTimeout(h, 50) } c("poll") }; if (o.readyState == n) e.call(t, "lazy"); else { if (o.createEventObject && s.doScroll) { try { r = !t.frameElement } catch (t) { } r && h() } o[l](u + "DOMContentLoaded", c, !1), o[l](u + a, c, !1), t[l](u + "load", c, !1) } }(e, function () { window.addEventListener ? (window.addEventListener("resize", u, !1), window.addEventListener("orientationchange", u, !1)) : window.attachEvent("onresize", u), n || t.run() }), "function" == typeof define && define.amd && define("Holder", [], function () { return t }) }(Holder, window);