!function (t, e) { "object" == typeof exports ? e(exports) : "function" == typeof define && define.amd ? define(["exports"], e) : e(t) }(this, function (t) { function e(t) { this._targetElement = t, this._options = { nextLabel: "Next &rarr;", prevLabel: "&larr; Back", skipLabel: "Skip", doneLabel: "Done", tooltipPosition: "bottom", tooltipClass: "", exitOnEsc: !0, exitOnOverlayClick: !0, showStepNumbers: !0, keyboardNavigation: !0, showButtons: !0, showBullets: !0, scrollToElement: !0, overlayOpacity: .8 } } function n(t) { var e = [], n = this; if (this._options.steps) for (var s = [], c = 0, p = this._options.steps.length; c < p; c++) { var h = o(this._options.steps[c]); if (h.step = e.length + 1, "string" == typeof h.element && (h.element = document.querySelector(h.element)), void 0 === h.element || null == h.element) { var d = document.querySelector(".introjsFloatingElement"); null == d && ((d = document.createElement("div")).className = "introjsFloatingElement", document.body.appendChild(d)), h.element = d, h.position = "floating" } null != h.element && e.push(h) } else { if ((s = t.querySelectorAll("*[data-intro]")).length < 1) return !1; c = 0; for (var m = s.length; c < m; c++) { var f = s[c], y = parseInt(f.getAttribute("data-step"), 10); y > 0 && (e[y - 1] = { element: f, intro: f.getAttribute("data-intro"), step: parseInt(f.getAttribute("data-step"), 10), tooltipClass: f.getAttribute("data-tooltipClass"), position: f.getAttribute("data-position") || this._options.tooltipPosition }) } var b = 0; for (c = 0, m = s.length; c < m; c++) { if (null == (f = s[c]).getAttribute("data-step")) { for (; void 0 !== e[b];)b++; e[b] = { element: f, intro: f.getAttribute("data-intro"), step: b + 1, tooltipClass: f.getAttribute("data-tooltipClass"), position: f.getAttribute("data-position") || this._options.tooltipPosition } } } } for (var g = [], v = 0; v < e.length; v++)e[v] && g.push(e[v]); if ((e = g).sort(function (t, e) { return t.step - e.step }), n._introItems = e, function (t) { var e = document.createElement("div"), n = "", o = this; if (e.className = "introjs-overlay", "body" === t.tagName.toLowerCase()) n += "top: 0;bottom: 0; left: 0;right: 0;position: fixed;", e.setAttribute("style", n); else { var i = u(t); i && (n += "width: " + i.width + "px; height:" + i.height + "px; top:" + i.top + "px;left: " + i.left + "px;", e.setAttribute("style", n)) } return t.appendChild(e), e.onclick = function () { 1 == o._options.exitOnOverlayClick && (l.call(o, t), null != o._introExitCallback && o._introExitCallback.call(o)) }, setTimeout(function () { n += "opacity: " + o._options.overlayOpacity.toString() + ";", e.setAttribute("style", n) }, 10), !0 }.call(n, t)) { i.call(n); t.querySelector(".introjs-skipbutton"), t.querySelector(".introjs-nextbutton"); n._onKeyDown = function (e) { 27 === e.keyCode && 1 == n._options.exitOnEsc ? (l.call(n, t), null != n._introExitCallback && n._introExitCallback.call(n)) : 37 === e.keyCode ? r.call(n) : 39 !== e.keyCode && 13 !== e.keyCode || (i.call(n), e.preventDefault ? e.preventDefault() : e.returnValue = !1) }, n._onResize = function (t) { a.call(n, document.querySelector(".introjs-helperLayer")) }, window.addEventListener ? (this._options.keyboardNavigation && window.addEventListener("keydown", n._onKeyDown, !0), window.addEventListener("resize", n._onResize, !0)) : document.attachEvent && (this._options.keyboardNavigation && document.attachEvent("onkeydown", n._onKeyDown), document.attachEvent("onresize", n._onResize)) } return !1 } function o(t) { if (null == t || "object" != typeof t || void 0 !== t.nodeType) return t; var e = {}; for (var n in t) e[n] = o(t[n]); return e } function i() { if (this._direction = "forward", void 0 === this._currentStep ? this._currentStep = 0 : ++this._currentStep, this._introItems.length <= this._currentStep) return "function" == typeof this._introCompleteCallback && this._introCompleteCallback.call(this), void l.call(this, this._targetElement); var t = this._introItems[this._currentStep]; void 0 !== this._introBeforeChangeCallback && this._introBeforeChangeCallback.call(this, t.element), c.call(this, t) } function r() { if (this._direction = "backward", 0 === this._currentStep) return !1; var t = this._introItems[--this._currentStep]; void 0 !== this._introBeforeChangeCallback && this._introBeforeChangeCallback.call(this, t.element), c.call(this, t) } function l(t) { var e = t.querySelector(".introjs-overlay"); if (null != e) { e.style.opacity = 0, setTimeout(function () { e.parentNode && e.parentNode.removeChild(e) }, 500); var n = t.querySelector(".introjs-helperLayer"); n && n.parentNode.removeChild(n); var o = document.querySelector(".introjsFloatingElement"); o && o.parentNode.removeChild(o); var i = document.querySelector(".introjs-showElement"); i && (i.className = i.className.replace(/introjs-[a-zA-Z]+/g, "").replace(/^\s+|\s+$/g, "")); var r = document.querySelectorAll(".introjs-fixParent"); if (r && r.length > 0) for (var l = r.length - 1; l >= 0; l--)r[l].className = r[l].className.replace(/introjs-fixParent/g, "").replace(/^\s+|\s+$/g, ""); window.removeEventListener ? window.removeEventListener("keydown", this._onKeyDown, !0) : document.detachEvent && document.detachEvent("onkeydown", this._onKeyDown), this._currentStep = void 0 } } function s(t, e, n, o) { var i, r, l, s = ""; if (e.style.top = null, e.style.right = null, e.style.bottom = null, e.style.left = null, e.style.marginLeft = null, e.style.marginTop = null, n.style.display = "inherit", void 0 !== o && null != o && (o.style.top = null, o.style.left = null), this._introItems[this._currentStep]) { s = "string" == typeof (i = this._introItems[this._currentStep]).tooltipClass ? i.tooltipClass : this._options.tooltipClass, e.className = ("introjs-tooltip " + s).replace(/^\s+|\s+$/g, ""); s = this._options.tooltipClass; switch (currentTooltipPosition = this._introItems[this._currentStep].position, currentTooltipPosition) { case "top": e.style.left = "15px", e.style.top = "-" + (u(e).height + 10) + "px", n.className = "introjs-arrow bottom"; break; case "right": e.style.left = u(t).width + 20 + "px", n.className = "introjs-arrow left"; break; case "left": 1 == this._options.showStepNumbers && (e.style.top = "15px"), e.style.right = u(t).width + 20 + "px", n.className = "introjs-arrow right"; break; case "floating": n.style.display = "none", r = u(e), e.style.left = "50%", e.style.top = "50%", e.style.marginLeft = "-" + r.width / 2 + "px", e.style.marginTop = "-" + r.height / 2 + "px", void 0 !== o && null != o && (o.style.left = "-" + (r.width / 2 + 18) + "px", o.style.top = "-" + (r.height / 2 + 18) + "px"); break; case "bottom-right-aligned": n.className = "introjs-arrow top-right", e.style.right = "0px", e.style.bottom = "-" + (u(e).height + 10) + "px"; break; case "bottom-middle-aligned": l = u(t), r = u(e), n.className = "introjs-arrow top-middle", e.style.left = l.width / 2 - r.width / 2 + "px", e.style.bottom = "-" + (r.height + 10) + "px"; break; case "bottom-left-aligned": case "bottom": default: e.style.bottom = "-" + (u(e).height + 10) + "px", n.className = "introjs-arrow top" } } } function a(t) { if (t) { if (!this._introItems[this._currentStep]) return; var e = this._introItems[this._currentStep], n = u(e.element), o = 10; "floating" == e.position && (o = 0), t.setAttribute("style", "width: " + (n.width + o) + "px; height:" + (n.height + o) + "px; top:" + (n.top - 5) + "px;left: " + (n.left - 5) + "px;") } } function c(t) { void 0 !== this._introChangeCallback && this._introChangeCallback.call(this, t.element); var e = this, n = document.querySelector(".introjs-helperLayer"); u(t.element); if (null != n) { var o = n.querySelector(".introjs-helperNumberLayer"), c = n.querySelector(".introjs-tooltiptext"), h = n.querySelector(".introjs-arrow"), d = n.querySelector(".introjs-tooltip"), m = n.querySelector(".introjs-skipbutton"), f = n.querySelector(".introjs-prevbutton"), y = n.querySelector(".introjs-nextbutton"); if (d.style.opacity = 0, null != o) { var b = this._introItems[t.step - 2 >= 0 ? t.step - 2 : 0]; (null != b && "forward" == this._direction && "floating" == b.position || "backward" == this._direction && "floating" == t.position) && (o.style.opacity = 0) } a.call(e, n); var g = document.querySelectorAll(".introjs-fixParent"); if (g && g.length > 0) for (var v = g.length - 1; v >= 0; v--)g[v].className = g[v].className.replace(/introjs-fixParent/g, "").replace(/^\s+|\s+$/g, ""); var _ = document.querySelector(".introjs-showElement"); _.className = _.className.replace(/introjs-[a-zA-Z]+/g, "").replace(/^\s+|\s+$/g, ""), e._lastShowElementTimer && clearTimeout(e._lastShowElementTimer), e._lastShowElementTimer = setTimeout(function () { null != o && (o.innerHTML = t.step), c.innerHTML = t.intro, s.call(e, t.element, d, h, o), n.querySelector(".introjs-bullets li > a.active").className = "", n.querySelector('.introjs-bullets li > a[data-stepnumber="' + t.step + '"]').className = "active", d.style.opacity = 1, o && (o.style.opacity = 1) }, 350) } else { var w = document.createElement("div"), C = document.createElement("div"), j = document.createElement("div"), k = document.createElement("div"), S = document.createElement("div"), E = document.createElement("div"); w.className = "introjs-helperLayer", a.call(e, w), this._targetElement.appendChild(w), C.className = "introjs-arrow", k.className = "introjs-tooltiptext", k.innerHTML = t.intro, S.className = "introjs-bullets", !1 === this._options.showBullets && (S.style.display = "none"); for (var N = document.createElement("ul"), x = (v = 0, this._introItems.length); v < x; v++) { var L = document.createElement("li"), T = document.createElement("a"); T.onclick = function () { e.goToStep(this.getAttribute("data-stepnumber")) }, 0 === v && (T.className = "active"), T.href = "javascript:void(0);", T.innerHTML = "&nbsp;", T.setAttribute("data-stepnumber", this._introItems[v].step), L.appendChild(T), N.appendChild(L) } if (S.appendChild(N), E.className = "introjs-tooltipbuttons", !1 === this._options.showButtons && (E.style.display = "none"), j.className = "introjs-tooltip", j.appendChild(k), j.appendChild(S), 1 == this._options.showStepNumbers) { var q = document.createElement("span"); q.className = "introjs-helperNumberLayer", q.innerHTML = t.step, w.appendChild(q) } j.appendChild(C), w.appendChild(j), (y = document.createElement("a")).onclick = function () { e._introItems.length - 1 != e._currentStep && i.call(e) }, y.href = "javascript:void(0);", y.innerHTML = this._options.nextLabel, (f = document.createElement("a")).onclick = function () { 0 != e._currentStep && r.call(e) }, f.href = "javascript:void(0);", f.innerHTML = this._options.prevLabel, (m = document.createElement("a")).className = "introjs-button introjs-skipbutton", m.href = "javascript:void(0);", m.innerHTML = this._options.skipLabel, m.onclick = function () { e._introItems.length - 1 == e._currentStep && "function" == typeof e._introCompleteCallback && e._introCompleteCallback.call(e), e._introItems.length - 1 != e._currentStep && "function" == typeof e._introExitCallback && e._introExitCallback.call(e), l.call(e, e._targetElement) }, E.appendChild(m), this._introItems.length > 1 && (E.appendChild(f), E.appendChild(y)), j.appendChild(E), s.call(e, t.element, j, C, q) } 0 == this._currentStep && this._introItems.length > 1 ? (f.className = "introjs-button introjs-prevbutton introjs-disabled", y.className = "introjs-button introjs-nextbutton", m.innerHTML = this._options.skipLabel) : this._introItems.length - 1 == this._currentStep || 1 == this._introItems.length ? (m.innerHTML = this._options.doneLabel, f.className = "introjs-button introjs-prevbutton", y.className = "introjs-button introjs-nextbutton introjs-disabled") : (f.className = "introjs-button introjs-prevbutton", y.className = "introjs-button introjs-nextbutton", m.innerHTML = this._options.skipLabel), y.focus(), t.element.className += " introjs-showElement"; var A = p(t.element, "position"); "absolute" !== A && "relative" !== A && (t.element.className += " introjs-relativePosition"); for (var I = t.element.parentNode; null != I && "body" !== I.tagName.toLowerCase();) { var P = p(I, "z-index"), H = parseFloat(p(I, "opacity")); (/[0-9]+/.test(P) || H < 1) && (I.className += " introjs-fixParent"), I = I.parentNode } if (!function (t) { var e = t.getBoundingClientRect(); return e.top >= 0 && e.left >= 0 && e.bottom + 80 <= window.innerHeight && e.right <= window.innerWidth }(t.element) && !0 === this._options.scrollToElement) { var B = t.element.getBoundingClientRect(), M = function () { if (null != window.innerWidth) return { width: window.innerWidth, height: window.innerHeight }; var t = document.documentElement; return { width: t.clientWidth, height: t.clientHeight } }().height, O = B.bottom - (B.bottom - B.top), z = B.bottom - M; O < 0 || t.element.clientHeight > M ? window.scrollBy(0, O - 30) : window.scrollBy(0, z + 100) } void 0 !== this._introAfterChangeCallback && this._introAfterChangeCallback.call(this, t.element) } function p(t, e) { var n = ""; return t.currentStyle ? n = t.currentStyle[e] : document.defaultView && document.defaultView.getComputedStyle && (n = document.defaultView.getComputedStyle(t, null).getPropertyValue(e)), n && n.toLowerCase ? n.toLowerCase() : n } function u(t) { var e = {}; e.width = t.offsetWidth, e.height = t.offsetHeight; for (var n = 0, o = 0; t && !isNaN(t.offsetLeft) && !isNaN(t.offsetTop);)n += t.offsetLeft, o += t.offsetTop, t = t.offsetParent; return e.top = o, e.left = n, e } var h = function (t) { if ("object" == typeof t) return new e(t); if ("string" == typeof t) { var n = document.querySelector(t); if (n) return new e(n); throw new Error("There is no element with given selector.") } return new e(document.body) }; return h.version = "0.9.0", h.fn = e.prototype = { clone: function () { return new e(this) }, setOption: function (t, e) { return this._options[t] = e, this }, setOptions: function (t) { return this._options = function (t, e) { var n = {}; for (var o in t) n[o] = t[o]; for (var o in e) n[o] = e[o]; return n }(this._options, t), this }, start: function () { return n.call(this, this._targetElement), this }, goToStep: function (t) { return function (t) { this._currentStep = t - 2, void 0 !== this._introItems && i.call(this) }.call(this, t), this }, nextStep: function () { return i.call(this), this }, previousStep: function () { return r.call(this), this }, exit: function () { l.call(this, this._targetElement) }, refresh: function () { return a.call(this, document.querySelector(".introjs-helperLayer")), this }, onbeforechange: function (t) { if ("function" != typeof t) throw new Error("Provided callback for onbeforechange was not a function"); return this._introBeforeChangeCallback = t, this }, onchange: function (t) { if ("function" != typeof t) throw new Error("Provided callback for onchange was not a function."); return this._introChangeCallback = t, this }, onafterchange: function (t) { if ("function" != typeof t) throw new Error("Provided callback for onafterchange was not a function"); return this._introAfterChangeCallback = t, this }, oncomplete: function (t) { if ("function" != typeof t) throw new Error("Provided callback for oncomplete was not a function."); return this._introCompleteCallback = t, this }, onexit: function (t) { if ("function" != typeof t) throw new Error("Provided callback for onexit was not a function."); return this._introExitCallback = t, this } }, t.introJs = h, h });